<h1>Facturas</h1>

<div class="row col-sm-4">
  <div class="clearfix">
    <h2 class="float-left">Agregar factura</h2>
  </div>
  <div class="form-group container" id="dateInvoicetxt">
    <label>Fecha de Factura:</label>
    <input class="form-control" bsDatepicker placeholder="ingrese fecha de factura" [(ngModel)]="newInvoiceEditor.dateInvoice">
  </div>

  <div class="form-group container" id="placeNametxt">
    <label>Nombre del Local:</label>
    <select class="form-control" [(ngModel)]="newInvoiceEditor.place">
      <option value="" disabled selected>seleccione un local</option>
      <option *ngFor="let place of placeList" [ngValue]="place">{{place.name}}</option>
    </select>
  </div>
  <div class="modal-footer">
    <div class="text-right">
      <button class="btn btn-default" (click)="newInvoiceReset()">Limpiar</button>
      <button class="btn btn-primary" (click)="showNewInvoiceModal(newInvoiceDetailModalTemplate)">Agregar</button>
    </div>
  </div>
</div>


<ng-template #newInvoiceDetailModalTemplate>
  <div class="modal-header clearfix">
    <h4 class="modal-title float-left">Agregar Producto</h4>
    <button type="button" class="close float-right" aria-label="Close" (click)="newInvoiceDetailCancelled()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group" id="productNametxt">
      <label>Producto:</label>
      <select class="form-control" [(ngModel)]="newInvoiceDetailEditor.product">
        <option value="" disabled selected>seleccione un producto</option>
        <option *ngFor="let product of productList" [ngValue]="product">{{product.name}}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="title">Cantidad Producto</label>
      <input type="number" class="form-control" id="productAmounttxt" placeholder="ingrese cantidad del producto" [(ngModel)]="newInvoiceDetailEditor.amount"
             [ngClass]="{ 'is-invalid': newInvoiceDetailEditor.error }" />
      <div *ngIf="newInvoiceDetailEditor.error" class="invalid-feedback">
        {{ newInvoiceDetailEditor.error }}
      </div>
    </div>
    <div class="text-right">
      <button class="btn btn-primary" (click)="addInvoiceDetail()">Agregar</button>
    </div>
  </div>
  <div class="modal-footer">
    <div class="text-right">
      <button class="btn btn-default" (click)="newInvoiceDetailCancelled()">Cancelar</button>
      <button class="btn btn-primary" (click)="addInvoice()">Finalizar</button>
    </div>
  </div>
</ng-template>
